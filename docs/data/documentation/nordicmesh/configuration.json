{"hierarchy":{"paths":[["doc:\/\/NordicMesh\/documentation\/NordicMesh"]]},"schemaVersion":{"major":0,"minor":3,"patch":0},"metadata":{"role":"article","roleHeading":"Article","title":"Configuration","modules":[{"name":"NordicMesh"}]},"seeAlsoSections":[{"identifiers":["doc:\/\/NordicMesh\/documentation\/NordicMesh\/Usage","doc:\/\/NordicMesh\/documentation\/NordicMesh\/LocalNode","doc:\/\/NordicMesh\/documentation\/NordicMesh\/CreatingNetwork","doc:\/\/NordicMesh\/documentation\/NordicMesh\/ProvisioningDevices","doc:\/\/NordicMesh\/documentation\/NordicMesh\/Connecting","doc:\/\/NordicMesh\/documentation\/NordicMesh\/SendingMessages","doc:\/\/NordicMesh\/documentation\/NordicMesh\/Exporting"],"generated":true,"title":"Articles","anchor":"Articles"}],"primaryContentSections":[{"kind":"content","content":[{"text":"Overview","type":"heading","level":2,"anchor":"Overview"},{"inlineContent":[{"type":"text","text":"Each Node has a unique, random 128-bit secret key, called a "},{"type":"emphasis","inlineContent":[{"type":"text","text":"Device Key"}]},{"text":", assigned during provisioning.","type":"text"}],"type":"paragraph"},{"type":"paragraph","inlineContent":[{"text":"Configuration messages are secured using this Device Key on the Access Layer. Only the Provisioner","type":"text"},{"type":"text","text":" "},{"text":"and the configured Node, which know the key, can encrypt and decrypt such messages.","type":"text"}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"Use "},{"type":"reference","isActive":true,"identifier":"doc:\/\/NordicMesh\/documentation\/NordicMesh\/MeshNetworkManager\/sendToLocalNode(_:)"},{"text":" to configure the ","type":"text"},{"inlineContent":[{"text":"local node","type":"text"}],"type":"emphasis"},{"text":". The ","type":"text"},{"identifier":"doc:\/\/NordicMesh\/documentation\/NordicMesh\/ConfigMessage","isActive":true,"type":"reference"},{"text":"s","type":"text"},{"type":"text","text":" "},{"text":"will be handled by the ","type":"text"},{"type":"emphasis","inlineContent":[{"text":"Configuration Server","type":"text"}]},{"text":" model automatically by the library.","type":"text"}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"To configure the remote nodes, use "},{"identifier":"doc:\/\/NordicMesh\/documentation\/NordicMesh\/MeshNetworkManager\/send(_:from:to:withTtl:using:)-65l1j","type":"reference","isActive":true},{"text":".","type":"text"}]},{"inlineContent":[{"text":"Status messages for configuration messages are delivered using","type":"text"},{"type":"text","text":" "},{"isActive":true,"type":"reference","identifier":"doc:\/\/NordicMesh\/documentation\/NordicMesh\/MeshNetworkDelegate\/meshNetworkManager(_:didReceiveMessage:sentFrom:to:)"},{"text":" to the","type":"text"},{"text":" ","type":"text"},{"isActive":true,"type":"reference","identifier":"doc:\/\/NordicMesh\/documentation\/NordicMesh\/MeshNetworkManager\/delegate"},{"type":"text","text":"."}],"type":"paragraph"},{"type":"paragraph","inlineContent":[{"text":"The updated state of the mesh network is automatically saved in the ","type":"text"},{"isActive":true,"type":"reference","identifier":"doc:\/\/NordicMesh\/documentation\/NordicMesh\/Storage"},{"type":"text","text":"."}]},{"style":"important","content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"As the nRF Mesh library supports "},{"inlineContent":[{"text":"Configuration Server","type":"text"}],"type":"emphasis"},{"text":" model, it also allows","type":"text"},{"type":"text","text":" "},{"text":"other provisioners to remotely reconfigure the ","type":"text"},{"inlineContent":[{"text":"local node","type":"text"}],"type":"emphasis"},{"type":"text","text":" when it is connected to a"},{"text":" ","type":"text"},{"type":"text","text":"GATT Proxy node. In example, the phone can be remotely removed from network."},{"text":" ","type":"text"},{"type":"text","text":"To make sure the node never gets remotely removed do not share the Device Key of"},{"type":"text","text":" "},{"text":"the local node when exporting network configuration.","type":"text"}]}],"name":"Important","type":"aside"},{"level":2,"anchor":"Whats-next","text":"What’s next","type":"heading"},{"type":"paragraph","inlineContent":[{"text":"Having the network set up and ready, it’s time to share the configuration: ","type":"text"},{"type":"reference","identifier":"doc:\/\/NordicMesh\/documentation\/NordicMesh\/Exporting","isActive":true},{"text":".","type":"text"}]}]}],"kind":"article","abstract":[{"type":"text","text":"Configuration allows to customize the behavior of the local and remote nodes."}],"sections":[],"variants":[{"traits":[{"interfaceLanguage":"swift"}],"paths":["\/documentation\/nordicmesh\/configuration"]}],"identifier":{"url":"doc:\/\/NordicMesh\/documentation\/NordicMesh\/Configuration","interfaceLanguage":"swift"},"references":{"doc://NordicMesh/documentation/NordicMesh/SendingMessages":{"abstract":[{"text":"How to send mesh messages using the manager.","type":"text"}],"title":"Sending messages","type":"topic","kind":"article","identifier":"doc:\/\/NordicMesh\/documentation\/NordicMesh\/SendingMessages","role":"article","url":"\/documentation\/nordicmesh\/sendingmessages"},"doc://NordicMesh/documentation/NordicMesh/Exporting":{"kind":"article","identifier":"doc:\/\/NordicMesh\/documentation\/NordicMesh\/Exporting","url":"\/documentation\/nordicmesh\/exporting","abstract":[{"type":"text","text":"Export and import feature allows to share mesh network configuration between"},{"type":"text","text":" "},{"text":"devices.","type":"text"}],"type":"topic","title":"Exporting network configuration","role":"article"},"doc://NordicMesh/documentation/NordicMesh/Node":{"kind":"symbol","title":"Node","navigatorTitle":[{"text":"Node","kind":"identifier"}],"fragments":[{"kind":"keyword","text":"class"},{"text":" ","kind":"text"},{"kind":"identifier","text":"Node"}],"abstract":[{"text":"Representation of a single Node belonging to the mesh network.","type":"text"}],"role":"symbol","identifier":"doc:\/\/NordicMesh\/documentation\/NordicMesh\/Node","url":"\/documentation\/nordicmesh\/node","type":"topic"},"doc://NordicMesh/documentation/NordicMesh/Storage":{"fragments":[{"kind":"keyword","text":"protocol"},{"text":" ","kind":"text"},{"kind":"identifier","text":"Storage"}],"navigatorTitle":[{"kind":"identifier","text":"Storage"}],"type":"topic","url":"\/documentation\/nordicmesh\/storage","identifier":"doc:\/\/NordicMesh\/documentation\/NordicMesh\/Storage","abstract":[{"text":"A protocol used to save and restore the Mesh Network configuration.","type":"text"}],"kind":"symbol","title":"Storage","role":"symbol"},"doc://NordicMesh/documentation/NordicMesh/Usage":{"url":"\/documentation\/nordicmesh\/usage","kind":"article","title":"Usage","identifier":"doc:\/\/NordicMesh\/documentation\/NordicMesh\/Usage","abstract":[{"type":"text","text":"How to start."}],"type":"topic","role":"article"},"doc://NordicMesh/documentation/NordicMesh/MeshNetworkDelegate/meshNetworkManager(_:didReceiveMessage:sentFrom:to:)":{"kind":"symbol","title":"meshNetworkManager(_:didReceiveMessage:sentFrom:to:)","url":"\/documentation\/nordicmesh\/meshnetworkdelegate\/meshnetworkmanager(_:didreceivemessage:sentfrom:to:)","required":true,"type":"topic","fragments":[{"text":"func","kind":"keyword"},{"kind":"text","text":" "},{"text":"meshNetworkManager","kind":"identifier"},{"kind":"text","text":"("},{"preciseIdentifier":"s:10NordicMesh0B14NetworkManagerC","kind":"typeIdentifier","text":"MeshNetworkManager"},{"kind":"text","text":", "},{"text":"didReceiveMessage","kind":"externalParam"},{"kind":"text","text":": any "},{"kind":"typeIdentifier","text":"MeshMessage","preciseIdentifier":"s:10NordicMesh0B7MessageP"},{"text":", ","kind":"text"},{"text":"sentFrom","kind":"externalParam"},{"text":": ","kind":"text"},{"kind":"typeIdentifier","text":"Address","preciseIdentifier":"s:10NordicMesh7Addressa"},{"kind":"text","text":", "},{"text":"to","kind":"externalParam"},{"kind":"text","text":": "},{"kind":"typeIdentifier","preciseIdentifier":"s:10NordicMesh0B7AddressV","text":"MeshAddress"},{"text":")","kind":"text"}],"abstract":[{"type":"text","text":"A callback called whenever a Mesh Message has been received"},{"text":" ","type":"text"},{"text":"from the mesh network.","type":"text"}],"identifier":"doc:\/\/NordicMesh\/documentation\/NordicMesh\/MeshNetworkDelegate\/meshNetworkManager(_:didReceiveMessage:sentFrom:to:)","role":"symbol"},"doc://NordicMesh/documentation/NordicMesh/MeshNetworkManager/send(_:from:to:withTtl:using:)-65l1j":{"identifier":"doc:\/\/NordicMesh\/documentation\/NordicMesh\/MeshNetworkManager\/send(_:from:to:withTtl:using:)-65l1j","kind":"symbol","type":"topic","title":"send(_:from:to:withTtl:using:)","url":"\/documentation\/nordicmesh\/meshnetworkmanager\/send(_:from:to:withttl:using:)-65l1j","fragments":[{"text":"func","kind":"keyword"},{"text":" ","kind":"text"},{"kind":"identifier","text":"send"},{"kind":"text","text":"(any "},{"kind":"typeIdentifier","preciseIdentifier":"s:10NordicMesh012AcknowledgedB7MessageP","text":"AcknowledgedMeshMessage"},{"kind":"text","text":", "},{"kind":"externalParam","text":"from"},{"text":": ","kind":"text"},{"text":"Model","kind":"typeIdentifier","preciseIdentifier":"s:10NordicMesh5ModelC"},{"text":", ","kind":"text"},{"text":"to","kind":"externalParam"},{"kind":"text","text":": "},{"preciseIdentifier":"s:10NordicMesh5ModelC","text":"Model","kind":"typeIdentifier"},{"text":", ","kind":"text"},{"text":"withTtl","kind":"externalParam"},{"kind":"text","text":": "},{"preciseIdentifier":"s:s5UInt8V","kind":"typeIdentifier","text":"UInt8"},{"kind":"text","text":"?, "},{"text":"using","kind":"externalParam"},{"text":": ","kind":"text"},{"preciseIdentifier":"s:10NordicMesh14ApplicationKeyC","kind":"typeIdentifier","text":"ApplicationKey"},{"kind":"text","text":"?) "},{"kind":"keyword","text":"async"},{"kind":"text","text":" "},{"text":"throws","kind":"keyword"},{"kind":"text","text":" -> any "},{"kind":"typeIdentifier","preciseIdentifier":"s:10NordicMesh0B8ResponseP","text":"MeshResponse"}],"abstract":[{"text":"Encrypts the message with the given Application Key and the Network Key","type":"text"},{"type":"text","text":" "},{"text":"bound to it, and sends it to the Node to which the Model belongs to.","type":"text"}],"role":"symbol"},"doc://NordicMesh/documentation/NordicMesh/ConfigMessage":{"identifier":"doc:\/\/NordicMesh\/documentation\/NordicMesh\/ConfigMessage","fragments":[{"kind":"keyword","text":"protocol"},{"kind":"text","text":" "},{"text":"ConfigMessage","kind":"identifier"}],"url":"\/documentation\/nordicmesh\/configmessage","kind":"symbol","title":"ConfigMessage","abstract":[{"text":"A base protocol for all Configuration messages.","type":"text"}],"navigatorTitle":[{"text":"ConfigMessage","kind":"identifier"}],"role":"symbol","type":"topic"},"doc://NordicMesh/documentation/NordicMesh/CreatingNetwork":{"kind":"article","role":"article","abstract":[{"type":"text","text":"How to load or create a network."}],"title":"Creating and loading a network configuration","url":"\/documentation\/nordicmesh\/creatingnetwork","identifier":"doc:\/\/NordicMesh\/documentation\/NordicMesh\/CreatingNetwork","type":"topic"},"doc://NordicMesh/documentation/NordicMesh/LocalNode":{"kind":"article","identifier":"doc:\/\/NordicMesh\/documentation\/NordicMesh\/LocalNode","url":"\/documentation\/nordicmesh\/localnode","abstract":[{"type":"text","text":"Defining the behavior of the node."}],"type":"topic","title":"Setting up Local Node","role":"article"},"doc://NordicMesh/documentation/NordicMesh":{"kind":"symbol","url":"\/documentation\/nordicmesh","role":"collection","abstract":[{"text":"Provision, configure and control Bluetooth mesh devices with nRF Mesh library.","type":"text"}],"title":"NordicMesh","type":"topic","identifier":"doc:\/\/NordicMesh\/documentation\/NordicMesh"},"doc://NordicMesh/documentation/NordicMesh/ProvisioningDevices":{"kind":"article","identifier":"doc:\/\/NordicMesh\/documentation\/NordicMesh\/ProvisioningDevices","url":"\/documentation\/nordicmesh\/provisioningdevices","abstract":[{"type":"text","text":"Provisioning is the process of adding an unprovisioned device to a mesh network in a secure way."}],"type":"topic","title":"Provisioning","role":"article"},"doc://NordicMesh/documentation/NordicMesh/Connecting":{"kind":"article","role":"article","abstract":[{"type":"text","text":"How to connect to the network via GATT Proxy node."}],"title":"Connecting to mesh network","url":"\/documentation\/nordicmesh\/connecting","identifier":"doc:\/\/NordicMesh\/documentation\/NordicMesh\/Connecting","type":"topic"},"doc://NordicMesh/documentation/NordicMesh/MeshNetworkManager/sendToLocalNode(_:)":{"identifier":"doc:\/\/NordicMesh\/documentation\/NordicMesh\/MeshNetworkManager\/sendToLocalNode(_:)","kind":"symbol","type":"topic","title":"sendToLocalNode(_:)","url":"\/documentation\/nordicmesh\/meshnetworkmanager\/sendtolocalnode(_:)","fragments":[{"text":"func","kind":"keyword"},{"text":" ","kind":"text"},{"kind":"identifier","text":"sendToLocalNode"},{"kind":"text","text":"(any "},{"kind":"typeIdentifier","preciseIdentifier":"s:10NordicMesh25AcknowledgedConfigMessageP","text":"AcknowledgedConfigMessage"},{"kind":"text","text":") "},{"kind":"keyword","text":"async"},{"kind":"text","text":" "},{"text":"throws","kind":"keyword"},{"text":" -> any ","kind":"text"},{"text":"ConfigResponse","preciseIdentifier":"s:10NordicMesh14ConfigResponseP","kind":"typeIdentifier"}],"abstract":[{"type":"text","text":"Sends the Configuration Message to the primary Element of the local "},{"type":"reference","identifier":"doc:\/\/NordicMesh\/documentation\/NordicMesh\/Node","isActive":true},{"type":"text","text":" "},{"text":"and returns the received response.","type":"text"}],"role":"symbol"},"doc://NordicMesh/documentation/NordicMesh/MeshNetworkManager/delegate":{"kind":"symbol","role":"symbol","fragments":[{"text":"var","kind":"keyword"},{"text":" ","kind":"text"},{"text":"delegate","kind":"identifier"},{"text":": (any ","kind":"text"},{"text":"MeshNetworkDelegate","kind":"typeIdentifier","preciseIdentifier":"s:10NordicMesh0B15NetworkDelegateP"},{"kind":"text","text":")?"}],"identifier":"doc:\/\/NordicMesh\/documentation\/NordicMesh\/MeshNetworkManager\/delegate","title":"delegate","url":"\/documentation\/nordicmesh\/meshnetworkmanager\/delegate","type":"topic","abstract":[{"text":"The delegate will receive callbacks whenever a complete","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"Mesh Message has been received and reassembled."}]}}}